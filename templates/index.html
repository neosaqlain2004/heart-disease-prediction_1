<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Disease Prediction</title>
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <header class="hero-outside">
        <div class="hero">
            <div>
                <h1>Heart Disease Predictor</h1>
                <p class="tagline">Smart prediction empowers you to make healthy heart decisions</p>
                <div class="swatches" aria-hidden="true">
                    <div class="swatch" style="background:#0b74de"></div>
                    <div class="swatch" style="background:#00a99d"></div>
                    <div class="swatch" style="background:#7f3f98"></div>
                    <div class="swatch" style="background:#f97316"></div>
                    <div class="swatch" style="background:#ff6b6b"></div>
                    <div class="swatch" style="background:#ffd166"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <form id="predict-form" class="grid">
            <div class="field">
                <label for="age_years">Age (years)</label>
                <input type="number" id="age_years" name="age_years" min="0" max="120" required>
            </div>

            <div class="field">
                <label for="gender">Gender</label>
                <select id="gender" name="gender" required>
                    <option value="1">Male</option>
                    <option value="2">Female</option>
                    <option value="0">Prefer not to say</option>
                </select>
            </div>

            <div class="field">
                <label for="height">Height (cm)</label>
                <input type="number" id="height" name="height" min="50" max="250" required>
            </div>

            <div class="field">
                <label for="weight">Weight (kg)</label>
                <input type="number" id="weight" name="weight" min="20" max="300" required>
            </div>

            <div class="field">
                <label for="ap_hi">Systolic BP</label>
                <input type="number" id="ap_hi" name="ap_hi" min="60" max="250" required>
            </div>

            <div class="field">
                <label for="ap_lo">Diastolic BP</label>
                <input type="number" id="ap_lo" name="ap_lo" min="30" max="160" required>
            </div>

            <div class="field">
                <label for="cholesterol">Cholesterol</label>
                <select id="cholesterol" name="cholesterol" required>
                    <option value="1">Normal</option>
                    <option value="2">Above normal</option>
                    <option value="3">Well above normal</option>
                </select>
            </div>

            <div class="field">
                <label for="gluc">Glucose</label>
                <select id="gluc" name="gluc" required>
                    <option value="1">Normal</option>
                    <option value="2">Above normal</option>
                    <option value="3">Well above normal</option>
                </select>
            </div>

            <div class="field">
                <label for="smoke">Smoking</label>
                <select id="smoke" name="smoke" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>

            <div class="field">
                <label for="alco">Alcohol</label>
                <select id="alco" name="alco" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>

            <div class="field">
                <label for="active">Physical Activity</label>
                <select id="active" name="active" required>
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>
            </div>

            <div class="actions">
                <button type="submit" class="primary" id="predict-btn">
                    <span class="btn-text">Predict (All Models)</span>
                    <span class="spinner" id="spinner" aria-hidden="true"></span>
                </button>
            </div>
        </form>

    <div id="result-area">
        <div id="ensemble-summary" class="ensemble-summary" aria-live="polite" hidden>
            <div class="ensemble-label"></div>
            <div class="ensemble-prob"></div>
            <button id="details-toggle" class="dropdown-toggle" aria-expanded="false">Show model details ▾</button>
        </div>

        <div id="details-dropdown" class="dropdown-content" hidden>
            <div id="result" class="results-grid"></div>
        </div>
    </div>
        <footer>This tool is informational only — not medical advice.</footer>
    </div>

    <section id="how-we-do-this" class="how-section">
        <h2>How We Do This</h2>
        <p class="section-description">Our heart disease prediction is powered by a rigorous machine learning pipeline. Here's a breakdown of the training process that enables accurate predictions:</p>
        <div class="process-grid">
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #2f6fff, #5a8dff);"></div>
                <h3>Data Loading & Sampling</h3>
                <p>Load patient data and take a sample for faster processing while keeping it representative.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #6bd3a8, #2fb36b);"></div>
                <h3>Data Preprocessing</h3>
                <p>Clean and prepare the data by removing unnecessary info and converting units for better understanding.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #f97316, #ff6b6b);"></div>
                <h3>Feature Preparation</h3>
                <p>Choose the most important health factors like blood pressure, cholesterol, and lifestyle habits to analyze.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #7f3f98, #a855f7);"></div>
                <h3>Encoding & Imputation</h3>
                <p>Convert categories to numbers and fill in any missing values with averages.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #ff6b6b, #ffd166);"></div>
                <h3>Handling Imbalance</h3>
                <p>Balance the data so both healthy and sick patients are equally represented for fair training.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #ffd166, #2f6fff);"></div>
                <h3>Feature Selection</h3>
                <p>Pick the top 10 most important health factors using smart algorithms to focus on what matters most.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #00a99d, #6bd3a8);"></div>
                <h3>Polynomial Features & Scaling</h3>
                <p>Create new features from combinations and standardize all values for better model performance.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #f97316, #7f3f98);"></div>
                <h3>Model Training & Tuning</h3>
                <p>Train and optimize 5 different AI models (Decision Tree, SVM, Random Forest, XGBoost, Neural Network) to predict heart disease.</p>
            </div>
            <div class="process-card">
                <div class="card-top" style="background: linear-gradient(90deg, #2fb36b, #00a99d);"></div>
                <h3>Model Evaluation</h3>
                <p>Test all models and keep the best performing ones for accurate predictions.</p>
            </div>
        </div>
    </section>

    <section id="about-us" class="about-section">
        <h2>About Us</h2>
        <p class="section-description">Learn more about this project and the team behind it.</p>
        <div class="about-content">
            <p>This heart disease prediction tool is a final year project developed by a student at BMS College of Engineering, Bangalore. The project demonstrates the practical application of machine learning techniques in healthcare, combining data science with web development to create an accessible and user-friendly prediction system.</p>
            <p>Key features of this project include:</p>
            <ul>
                <li>Ensemble machine learning approach using multiple algorithms for accurate predictions</li>
                <li>Comprehensive data preprocessing and feature engineering</li>
                <li>Modern web interface with responsive design</li>
                <li>Educational content explaining the ML pipeline</li>
                <li>Real-time prediction capabilities</li>
            </ul>
            <p>For questions, feedback, or collaboration opportunities, please contact: <a href="mailto:saqlainmudalgi7@gmail.com">saqlainmudalgi7@gmail.com</a></p>
        </div>
    </section>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
